/*
 * This file was generated by the Gradle "init" task.
 *
 * This generated file contains a sample Scala library project to get you started.
 * For more details take a look at the Scala plugin chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.5/userguide/scala_plugin.html
 */

// Scala and Akka versions
def scalaMajor = "2.12"
def scalaMinor = "4"
def akkaHttpV = "10.0.11"
def kafkaV = "1.1.0"


// In this section you declare where to find the dependencies of your project
allprojects {
    apply plugin: 'scala'
    repositories {
        // Use jcenter for resolving your dependencies.
        // You can declare any Maven/Ivy/file repository here.
        jcenter()
        mavenCentral()
    }

    dependencies {
        compile(
                // Scala
                [group: "org.scala-lang", name: "scala-compiler", version: "$scalaMajor.$scalaMinor"],
                [group: "org.scala-lang", name: "scala-library", version: "$scalaMajor.$scalaMinor"],
                // Kafka
                [group: 'org.apache.kafka', name: 'kafka-streams', version: "$kafkaV"],

                // Cassandra driver
                [group: "com.datastax.cassandra", name: "cassandra-driver-core", version: "3.4.0"],

                // remove later
                    // extras for mapping cassandra entity to scala pojo
                    // https://docs.datastax.com/en/developer/java-driver/3.4/manual/custom_codecs/extras/
                [group: "com.datastax.cassandra", name: "cassandra-driver-extras", version: "3.4.0"],
                [group: "com.datastax.cassandra", name: "cassandra-driver-mapping", version: "3.4.0"],

                // logger
                [ group: "org.slf4j", name: "slf4j-api", version: "1.7.25"],
                [group: "org.slf4j", name: "slf4j-log4j12", version: "1.7.25"],

                // alpakka
                    // Kafka [sink, source]
                [group: "com.typesafe.akka", name: "akka-stream-kafka_$scalaMajor", version: "0.20"],
                    // Cassandra [sink, source]
                [group: "com.lightbend.akka", name: "akka-stream-alpakka-cassandra_$scalaMajor", version: "0.18"],

                // akka http
                [group: "com.typesafe.akka", name: "akka-http_$scalaMajor",   version: "10.1.1"],
                [group: "com.typesafe.akka", name: "akka-stream_$scalaMajor", version: "2.5.11"],

                // json parser
                [group: 'com.typesafe.akka', name: "akka-http-spray-json_$scalaMajor", version: "$akkaHttpV"],

                // Config
                [group: "com.typesafe", name: "config", version: "1.3.2"],
                // Camunda
                [group: 'org.camunda.bpm', name: 'camunda-engine', version: '7.8.0'],
                [group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "2.7.0"]
        )
        testCompile(
                [group: "org.scalatest", name: "scalatest_$scalaMajor", version: "3.0.4"],
                [group: "junit", name: "junit", version: "4.12"],
                //json validator
                [group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "2.7.0"],

                // kafka test suite for streams
                // https://mvnrepository.com/artifact/org.apache.kafka/kafka-streams-test-utils
                [group: "org.apache.kafka", name: "kafka-streams-test-utils", version: "$kafkaV"]
        )
        // Need scala-xml at test runtime
        testRuntime "org.scala-lang.modules:scala-xml_$scalaMajor:1.0.6"
    }
}

task wrapper(type: Wrapper){
	gradleVersion = "4.5"
}
